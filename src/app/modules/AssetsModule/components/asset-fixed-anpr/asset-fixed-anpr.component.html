<div *ngIf="!accessRightsService.canView('fixedAnpr')" class="alert alert-danger">
  <strong>Access Denied!</strong><br/> You don't have permissions to View this page.
</div>
<div *ngIf="accessRightsService.canView('fixedAnpr')" class="asset-fixed-anpr-container mat-elevation-z0">
  <mat-card  class="mat-elevation-z0">
    <div class="row">
        <div class="col-lg-6 col-md-8 col-sm-6 col-xs-12 ">

            <!--<button mat-icon-button class="active">
                <mat-icon aria-label="list">list</mat-icon>
              </button> -->

              <button *ngIf="accessRightsService.canEdit('fixedAnpr')" mat-button (click)="goToCreatePage()">
                <mat-icon aria-label="add">add</mat-icon>New Fixed Anpr
              </button>
        </div>
        <div class="col-lg-6 col-md-4 col-sm-6 col-xs-12 ">
            <mat-form-field class="search-field">
              <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
        </div>
    </div>

  </mat-card>

  <mat-table [dataSource]="dataSource" matSort>

    <!-- ID Column -->
    <ng-container matColumnDef="indiv_asset_id">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Asset ID </mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr"> {{assetFixedAnpr.indiv_asset_id}} </mat-cell>
    </ng-container>

    <!-- ID Column -->
    <ng-container matColumnDef="project">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Project </mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr"> {{assetFixedAnpr.project}} </mat-cell>
    </ng-container>

    <!-- ID Column -->
    <ng-container matColumnDef="site">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Site </mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr"> {{assetFixedAnpr.site}} </mat-cell>
    </ng-container>

    <!-- ID Column -->
    <ng-container matColumnDef="zone">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Zone </mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr"> {{assetFixedAnpr.zone}} </mat-cell>
    </ng-container>

    <!-- ID Column -->
    <ng-container matColumnDef="key_stats_status_of_product">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr">

        <i *ngIf="assetFixedAnpr.key_stats_status_of_product == 'Active'" class="key_stats_status_of_product_active material-icons">lens</i>
        <i *ngIf="assetFixedAnpr.key_stats_status_of_product == 'Inactive'" class="key_stats_status_of_product_inactive material-icons">lens</i>

      </mat-cell>
    </ng-container>

    <!-- ID Column -->
    <ng-container matColumnDef="key_stats_uptime">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Up Time </mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr"> {{assetFixedAnpr.key_stats_uptime}} </mat-cell>
    </ng-container>

    <!-- ID Column -->
    <ng-container matColumnDef="key_stats_eol_status">
      <mat-header-cell *matHeaderCellDef mat-sort-header>EOL Status </mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr"> {{assetFixedAnpr.key_stats_eol_status}} </mat-cell>
    </ng-container>

    <!-- ID Column -->
    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef mat-sort-header></mat-header-cell>
      <mat-cell *matCellDef="let assetFixedAnpr"  align="end">

        <button class="map" mat-icon-button>
          <mat-icon aria-label="Location">
            location_on
          </mat-icon>
        </button>

        <button class="view" mat-icon-button  (click)="viewDetails(assetFixedAnpr)">
          <mat-icon aria-label="View">
              remove_red_eye
          </mat-icon>
        </button>

        <button class="edit" mat-icon-button  (click)="update(assetFixedAnpr)" *ngIf="accessRightsService.canEdit('fixedAnpr')">
          <mat-icon aria-label="Update">
            mode_edit
          </mat-icon>
          </button>

        <button class="delete" mat-icon-button color="warn" (click)="delete(assetFixedAnpr)" *ngIf="accessRightsService.canEdit('fixedAnpr')">
          <mat-icon aria-label="Delete">
            delete
          </mat-icon>
        </button>

      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

    <mat-row *matRowDef="let assetFixedAnpr; columns: displayedColumns;"
    (click)="onSelect(assetFixedAnpr)"
    [class.selected]="assetFixedAnpr === selectedAssetFixedAnpr">
    </mat-row>

  </mat-table>

  <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
</div>
